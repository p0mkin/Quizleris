<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Basic page metadata -->
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Quizleris</title>
  <link rel="icon" type="image/x-icon" href="./favicon.ico">
  <!-- Link to your stylesheet (we'll create style.css next) -->
  <link rel="stylesheet" href="style.css" />
  <!-- KaTeX CSS for LaTeX rendering -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.css" />
  <link rel="stylesheet" href="style.css?v=20260126235000">
  <!-- KaTeX JS (we'll call this later from TypeScript-compiled JS) -->
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/katex.min.js"></script>
  <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.11/dist/contrib/auto-render.min.js"></script>
  <!-- Tesseract.js for OCR -->
  <script defer src="https://cdn.jsdelivr.net/npm/tesseract.js@5.0.5/dist/tesseract.min.js"></script>
  <!-- Our app entrypoint (this will be built from app.ts to app.js) -->
  <script type="module" src="app.js?v=20260127011500"></script>
</head>

<body>
  <div id="app-root">
    <!-- Minimal static structure; TypeScript will fill this dynamically -->
    <header class="quiz-header" style="display: none;">
      <!-- Place spresk.lt logo here -->
      <!-- <img src="path/to/spresk-logo.png" alt="spresk.lt" style="height: 40px;"> -->
      <div style="display: flex; align-items: center; gap: 12px;">
        <button id="quiz-back-btn" class="btn" style="display: none; font-size: 0.9rem; padding: 6px 12px;"
          title="Back">
          ‚Üê <span data-i18n="quiz.backBtn">Back</span>
        </button>
        <h1 data-i18n="app.title">Quizleris</h1>
      </div>
      <button id="admin-toggle" class="btn" style="display: none;" data-i18n="admin.adminMode">Admin Mode</button>
    </header>
    <section id="start-menu" class="start-menu">
      <div style="position: absolute; top: 20px; right: 20px;">
        <button id="lang-toggle" class="btn" style="font-size: 0.9rem; padding: 6px 12px;" title="Switch Language">
          üåê <span id="lang-label">LT</span>
        </button>
      </div>
      <h1 data-i18n="menu.welcome">Sveiki atvykƒô ƒØ Quizleris</h1>
      <p data-i18n="menu.selectRole">Pasirinkite savo vaidmenƒØ:</p>
      <div class="menu-actions">
        <button id="menu-btn-student" class="btn btn-primary" data-i18n="menu.student">Esu Mokinys</button>
        <button id="menu-btn-admin" class="btn" data-i18n="menu.admin">Esu Administratorius</button>
      </div>
    </section>
    <main class="quiz-main" style="display: none;">
      <!-- Placeholder for question text (with LaTeX) -->
      <section id="question-container">
        <!-- TypeScript will inject the current question here -->
      </section>
      <!-- Placeholder for answer buttons -->
      <section id="answers-container">
        <!-- TypeScript will generate answer options here -->
      </section>
      <!-- Placeholder for score and status -->
      <section id="status-container">
        <!-- TypeScript will show score, feedback, etc. here -->
      </section>
    </main>
    <section id="dashboard-view" class="dashboard-view" style="display: none;">
      <h2 data-i18n="dashboard.title" style="text-align: center; font-size: 2rem; margin-bottom: 24px;">Rezultat≈≥
        suvestinƒó</h2>
      <div id="dashboard-content"></div>
      <div class="dashboard-actions" style="margin-top: 32px; display: flex; justify-content: center; gap: 16px;">
        <button id="dashboard-close-btn" class="btn btn-primary" data-i18n="dashboard.backToMenu">Atgal ƒØ meniu</button>
        <button id="dashboard-clear-btn" class="btn btn-danger" data-i18n="dashboard.clearHistory"
          style="background: #ef4444; border: none; padding: 10px 20px;">I≈°valyti istorijƒÖ</button>
      </div>
    </section>
    <!-- Admin panel (hidden by default) -->
    <section id="admin-panel" class="admin-panel" style="display: none;">
      <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
        <h2 style="margin: 0;" data-i18n="admin.title">Create/Edit Quiz</h2>
        <div style="display: flex; gap: 10px;">
          <button id="admin-btn-back" class="btn" style="font-size: 0.9rem; padding: 6px 12px;"
            data-i18n="admin.backToMenu">Back to Menu</button>
        </div>
      </div>
      <div class="admin-form">
        <label>
          <span data-i18n="admin.quizTitle">Quiz Title:</span>
          <input type="text" id="admin-quiz-title" class="input-field"
            data-i18n-placeholder="admin.quizTitlePlaceholder" placeholder="My Math Quiz" />
        </label>
        <div
          style="display: flex; gap: 20px; align-items: center; margin-bottom: 20px; background: rgba(255,255,255,0.05); padding: 15px; border-radius: 8px;">
          <div style="flex: 1;">
            <label for="admin-timer-mode" style="display: block; margin-bottom: 5px;" data-i18n="admin.timerMode">Timer
              Mode:</label>
            <select id="admin-timer-mode" class="admin-form" style="width: 100%;">
              <option value="question" data-i18n="admin.timerPerQuestion">Time per Question</option>
              <option value="quiz" data-i18n="admin.timerWholeQuiz">Time for Whole Quiz</option>
              <option value="none" data-i18n="admin.timerNone">No Timer (Stopwatch)</option>
            </select>
          </div>
          <div style="flex: 1;">
            <label for="admin-timer-limit" style="display: block; margin-bottom: 5px;" data-i18n="admin.timeLimit">Time
              Limit (seconds):</label>
            <input type="number" id="admin-timer-limit" class="input-field admin-form" value="30"
              style="width: 100%;" />
          </div>
        </div>
        <div
          style="display: flex; gap: 20px; align-items: center; margin-bottom: 20px; background: rgba(255,255,255,0.05); padding: 15px; border-radius: 8px;">
          <div style="flex: 1;">
            <label for="admin-quiz-mode" style="display: block; margin-bottom: 5px;" data-i18n="admin.quizMode">Quiz
              Mode:</label>
            <select id="admin-quiz-mode" class="admin-form" style="width: 100%;">
              <option value="practice" data-i18n="admin.modePractice">Practice (instant feedback)</option>
              <option value="exam" data-i18n="admin.modeExam">Exam (results after submission)</option>
            </select>
          </div>
          <div style="flex: 1;">
            <span style="display: block; margin-bottom: 5px; font-weight: bold;" data-i18n="admin.shuffleConfig">Shuffle
              Settings:</span>
            <div style="display: flex; gap: 15px; align-items: center; margin-top: 5px;">
              <label style="display: flex; align-items: center; gap: 5px; cursor: pointer; color: var(--text);">
                <input type="checkbox" id="admin-shuffle-questions" /> <span
                  data-i18n="admin.shuffleQuestions">Questions</span>
              </label>
              <label style="display: flex; align-items: center; gap: 5px; cursor: pointer; color: var(--text);">
                <input type="checkbox" id="admin-shuffle-answers" /> <span
                  data-i18n="admin.shuffleAnswers">Choices</span>
              </label>
            </div>
          </div>
        </div>
        <div class="form-group" style="margin-bottom: 20px;">
          <span id="res-vis-title" style="display: block; margin-bottom: 8px; font-weight: bold;"
            data-i18n="res_vis_label">Result
            Visibility:</span>
          <div class="segmented-control" id="admin-result-visibility-group" role="group"
            aria-labelledby="res-vis-title">
            <button type="button" class="segment-btn" data-value="detailed" data-i18n="res_vis_det">Detailed
              Review</button>
            <button type="button" class="segment-btn" data-value="score" data-i18n="res_vis_sco">Score Only</button>
          </div>
          <input type="hidden" id="admin-show-results-value" value="detailed">
        </div>
        <div id="admin-questions-list"></div>
        <div class="admin-question-actions">
          <button id="admin-add-question" class="btn" data-i18n="admin.addQuestion">+ Add Question</button>
          <button id="admin-scan-question" class="btn" data-i18n="admin.scanQuestion">üì∑ Scan Question (OCR)</button>
          <input type="file" id="admin-ocr-input" accept="image/*" style="display: none;" />
        </div>
        <div class="admin-actions">
          <button id="admin-save" class="btn btn-primary" data-i18n="admin.saveQuiz">Save Quiz</button>
          <button id="admin-preview" class="btn btn-secondary" style="background: var(--accent); color: black;"
            data-i18n="admin.preview">Per≈æi≈´ra</button>
          <button id="admin-export" class="btn btn-secondary" data-i18n="admin.exportJson">Export JSON</button>
          <button id="admin-import-btn" class="btn btn-secondary" data-i18n="admin.importJson">Import JSON</button>
          <input type="file" id="admin-import-input" accept=".json" style="display: none;" />
          <button id="admin-cancel" class="btn" data-i18n="admin.cancel">Cancel</button>
        </div>
        <div id="admin-share-code" class="admin-share" style="display: none;"></div>
      </div>
    </section>
  </div>
</body>

</html>