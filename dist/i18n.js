// Internationalization (i18n) system for Lithuanian and English
const translations = {
    lt: {
        // Start Menu
        'app.title': 'Quizleris',
        'menu.welcome': 'Sveiki atvykÄ™ Ä¯ Quizleris',
        'menu.selectRole': 'Pasirinkite savo vaidmenÄ¯:',
        'menu.student': 'Esu Mokinys',
        'menu.admin': 'Esu Administratorius',
        'menu.dashboard': 'PerÅ¾iÅ«rÄ—ti Rezultatus',
        // Student Form
        'student.nameLabel': 'JÅ«sÅ³ vardas (neprivaloma)',
        'student.namePlaceholder': 'Ä®veskite vardÄ… rezultatÅ³ sekimui',
        'student.premadeLabel': 'IÅ¡bandykite paruoÅ¡tÄ… testÄ…:',
        'student.quizIdLabel': 'Arba Ä¯veskite testo kodÄ… / ID',
        'student.quizIdPlaceholder': 'demo',
        'student.startBtn': 'PradÄ—ti testÄ…',
        'student.backBtn': 'Atgal',
        // Admin Panel
        'admin.title': 'Sukurti/Redaguoti testÄ…',
        'admin.dashboard': 'Rezultatai',
        'admin.backToMenu': 'Atgal Ä¯ meniu',
        'admin.quizTitle': 'Testo pavadinimas:',
        'admin.quizTitlePlaceholder': 'Mano matematikos testas',
        'admin.timerMode': 'LaikmaÄio reÅ¾imas:',
        'admin.timerPerQuestion': 'Laikas kiekvienam klausimui',
        'admin.timerWholeQuiz': 'Laikas visam testui',
        'admin.timerNone': 'Be laikmaÄio (Chronometras)',
        'admin.timeLimit': 'Laiko limitas (sekundÄ—s):',
        'admin.addQuestion': 'PridÄ—ti klausimÄ…',
        'admin.scanQuestion': 'ðŸ“· Nuskaityti klausimÄ… (OCR)',
        'admin.saveQuiz': 'IÅ¡saugoti testÄ…',
        'admin.exportJson': 'Eksportuoti JSON',
        'admin.importJson': 'Importuoti JSON',
        'admin.preview': 'PerÅ¾iÅ«ra',
        'admin.cancel': 'AtÅ¡aukti',
        'res_vis_label': 'Rezultato matomumas:',
        'res_vis_det': 'IÅ¡sami perÅ¾iÅ«ra (klausimai ir atsakymai)',
        'res_vis_sco': 'Tik galutinis balas',
        'admin.question': 'Klausimas',
        'admin.qType': 'Klausimo tipas:',
        'admin.typeMC': 'Pasirinkimo variantai',
        'admin.typeNum': 'Skaitinis atsakymas',
        'admin.typeBlank': 'UÅ¾pildyti tuÅ¡Äias vietas',
        'admin.typeImage': 'Nuotraukos Ä¯kÄ—limas',
        'admin.typeText': 'Tekstinis atsakymas',
        'admin.typeTF': 'Taip / Ne',
        'admin.mcMultiple': 'Leisti kelis teisingus atsakymus',
        'admin.numAnswer': 'Teisingas skaiÄius:',
        'admin.numTolerance': 'Paklaida:',
        'admin.tolAbs': 'Absoliuti (Â±vnt)',
        'admin.tolPct': 'ProcentinÄ— (Â±%)',
        'admin.blankAnswers': 'Atsakymai tuÅ¡Äioms vietoms (___):',
        'admin.keywords': 'Raktiniai Å¾odÅ¾iai (atskirti kableliu):',
        'admin.longAnswer': 'Ilgas atsakymas',
        'admin.isTrue': 'Teisingas atsakymas yra Taip',
        'admin.imageUploadHint': 'Studentas matys mygtukÄ… nuotraukos Ä¯kÄ—limui. Vertinama bus rankiniu bÅ«du.',
        'admin.addImage': 'ðŸ“· PridÄ—ti nuotraukÄ…',
        'admin.removeImage': 'PaÅ¡alinti nuotraukÄ…',
        'admin.blankHint': 'Instrukcija: Naudokite ___ (trys pabraukimo brÅ«kÅ¡niai) uÅ¾pildymo vietoms.',
        'admin.insertBlank': 'Ä®terpti tarpÄ… (___)',
        'admin.shuffleConfig': 'MaiÅ¡ymo nustatymai:',
        'admin.shuffleQuestions': 'MaiÅ¡yti klausimus',
        'admin.shuffleAnswers': 'MaiÅ¡yti atsakymÅ³ variantus',
        'admin.quizMode': 'Testo reÅ¾imas:',
        'admin.modePractice': 'Praktika (Rezultatas po klausimo pateikimo)',
        'admin.modeExam': 'Egzaminas (rezultatai po pateikimo)',
        'admin.promptLabel': 'Klausimas (LaTeX):',
        'admin.addChoice': 'PridÄ—ti pasirinkimÄ…',
        'admin.removeQuestion': 'PaÅ¡alinti klausimÄ…',
        'admin.removeChoice': 'IÅ¡trinti pasirinkimÄ…',
        'admin.quizSaved': 'Testas iÅ¡saugotas!',
        'admin.shareUrl': 'Dalintis nuoroda:',
        'admin.quizId': 'Testo ID:',
        'admin.copyLink': 'Kopijuoti nuorodÄ…',
        // Alerts
        'alert.deleteQuestion': 'Ar tikrai norite iÅ¡trinti Å¡Ä¯ klausimÄ…?',
        'alert.deleteChoice': 'PaÅ¡alinti Å¡Ä¯ pasirinkimÄ…?',
        'alert.addOneQuestion': 'PridÄ—kite bent vienÄ… klausimÄ…!',
        'alert.allQuestionsPrompt': 'Visi klausimai turi turÄ—ti klausimÄ…!',
        'alert.twoChoicesMin': 'Kiekvienas klausimas turi turÄ—ti bent 2 pasirinkimus!',
        'alert.oneCorrectAnswer': 'Kiekvienas klausimas turi turÄ—ti bent vienÄ… teisingÄ… atsakymÄ…!',
        'alert.quizNotFound': 'Testas su tokiu ID nerastas.',
        'alert.ocrAdded': 'Klausimas pridÄ—tas iÅ¡ skenavimo! PerÅ¾iÅ«rÄ—kite ir paÅ¾ymÄ—kite teisingÄ… atsakymÄ….',
        'alert.ocrError': 'Klaida apdorojant vaizdÄ…. Bandykite dar kartÄ… arba Ä¯veskite rankiniu bÅ«du.',
        'alert.importSuccess': 'Testas sÄ—kmingai importuotas!',
        'alert.invalidJson': 'Netinkamas testo JSON.',
        'alert.jsonParseError': 'Klaida analizuojant JSON',
        'alert.clearHistory': 'Ar tikrai norite iÅ¡valyti visÄ… istorijÄ…?',
        'alert.linkCopied': 'Nuoroda nukopijuota!',
        // Dashboard
        'dashboard.title': 'RezultatÅ³ suvestinÄ—',
        'dashboard.recentActivity': 'Naujausia veikla',
        'dashboard.highScores': 'Geriausi rezultatai',
        'dashboard.date': 'Data',
        'dashboard.name': 'Vardas',
        'dashboard.quiz': 'Testas',
        'dashboard.score': 'Rezultatas',
        'dashboard.topStudent': 'Geriausias mokinys',
        'dashboard.noResults': 'RezultatÅ³ dar nÄ—ra.',
        'dashboard.backToMenu': 'Atgal Ä¯ meniu',
        'dashboard.clearHistory': 'IÅ¡valyti istorijÄ…',
        // Quiz UI Flow
        'quiz.question': 'Klausimas',
        'quiz.of': 'iÅ¡',
        'quiz.score': 'Rezultatas',
        'quiz.time': 'Laikas',
        'quiz.correct': 'Teisingai!',
        'quiz.incorrect': 'Neteisingai',
        'quiz.timesUp': 'Laikas pasibaigÄ—!',
        'quiz.chooseAnswer': 'Pasirinkite atsakymÄ…',
        'quiz.nextQuestion': 'Kitas klausimas',
        'quiz.complete': 'Testas baigtas!',
        'quiz.viewResults': 'PerÅ¾iÅ«rÄ—ti rezultatus',
        'quiz.takeAgain': 'Bandyti dar kartÄ…',
        'quiz.backToMenu': 'Atgal Ä¯ meniu',
        'quiz.correctAnswer': 'Teisingas atsakymas',
        'quiz.noAnswer': 'Neatsakyta',
        'quiz.mcSelectOne': 'Pasirinkite vienÄ…',
        'quiz.mcSelectAll': 'Pasirinkite visus tinkamus',
        'quiz.examSubmit': 'Pateikti egzaminÄ…',
        'quiz.examConfirm': 'Ar tikrai norite baigti egzaminÄ… ir pateikti atsakymus?',
        'quiz.answered': 'atsakyta',
        'quiz.pending': 'Laukiama vertinimo',
        'quiz.previewFinished': 'PerÅ¾iÅ«ra baigta â€” galite uÅ¾daryti Å¡Ä¯ skirtukÄ….',
        'quiz.jumpTo': 'Eiti Ä¯',
        'quiz.backBtn': 'Atgal',
        'quiz.backConfirm': 'Ar tikrai norite grÄ¯Å¾ti? Testas bus prarastas.',
        // Quiz Titles
        'quiz.demoTitle': 'Bandomasis testas',
        'quiz.algebraTitle': 'Algebros pagrindai',
        'quiz.combinatoricsTitle': 'Kombinatorikos iÅ¡Å¡Å«kis',
        // Join Screen
        'admin.adminMode': 'Administratoriaus reÅ¾imas',
        'admin.playerMode': 'Å½aidÄ—jo reÅ¾imas',
        'admin.newQuiz': 'Naujas testas',
        'admin.timerUpdateError': 'LaikmaÄio atnaujinimo klaida',
        'admin.prompt': 'Klausimas (LaTeX)',
        'admin.confirmRemoveQuestion': 'Ar tikrai norite iÅ¡trinti Å¡Ä¯ klausimÄ…?',
        'admin.confirmRemoveChoice': 'PaÅ¡alinti Å¡Ä¯ pasirinkimÄ…?',
        'admin.untitledQuiz': 'Pavadinimas neÄ¯vestas',
        'admin.errorNoQuestions': 'PridÄ—kite bent vienÄ… klausimÄ…!',
        'admin.errorNoPrompt': 'Visi klausimai turi turÄ—ti klausimÄ…!',
        'admin.errorNoChoices': 'Kiekvienas klausimas turi turÄ—ti bent 2 pasirinkimus!',
        'admin.errorNoCorrect': 'Kiekvienas klausimas turi turÄ—ti bent vienÄ… teisingÄ… atsakymÄ…!',
        'admin.saveSuccess': 'Testas sÄ—kmingai iÅ¡saugotas!',
        'admin.studentUrl': 'Nuoroda mokiniams',
        'admin.copy': 'Kopijuoti',
        'admin.dashboardUrl': 'Administratoriaus suvestinÄ—s nuoroda',
        'admin.importSuccess': 'Testas sÄ—kmingai importuotas!',
        'admin.importInvalid': 'Netinkamas testo JSON.',
        'admin.importError': 'Klaida analizuojant JSON',
        'admin.confirmCancel': 'Ar tikrai norite atÅ¡aukti? Visi neÄ¯raÅ¡yti pakeitimai bus prarasti.',
        'admin.previewName': 'PerÅ¾iÅ«ra',
        'admin.closePreview': 'UÅ¾daryti perÅ¾iÅ«rÄ…',
        // Join Screen
        'join.joinQuiz': 'Prisijungti prie testo:',
        'join.questions': 'klausimai',
        'join.yourName': 'JÅ«sÅ³ vardas',
        'join.namePlaceholder': 'Ä®veskite savo vardÄ…',
        'join.startBtn': 'PradÄ—ti testÄ…',
        'join.backBtn': 'Atgal',
        // Detailed Dashboard
        'dashboard.actions': 'Veiksmai',
        'dashboard.details': 'DetalÄ—s',
        'dashboard.closeDetails': 'UÅ¾daryti',
        'dashboard.resultDetail': 'Rezultato informacija:',
        'dashboard.selected': 'Pasirinkta',
        'dashboard.noDetails': 'IÅ¡samiÅ³ duomenÅ³ apie Å¡Ä¯ rezultatÄ… nÄ—ra.',
        'dashboard.unified': 'Sukurti Testai',
        'dashboard.time': 'Visas laikas',
        'dashboard.avgTime': 'Vid. laikas per klausimÄ…',
        'dashboard.review': 'PerÅ¾iÅ«ra',
        'topics.title': 'AnglÅ³ kalbos testÅ³ temos',
        'student.premadeEnglish': 'AnglÅ³ kalbos paruoÅ¡ti testai',
        'student.premadeLithuanianSoon': 'LietuviÅ¡ki testai (Netrukus)',
        'student.premadeLithuanianHint': 'LietuviÅ¡ki testai bus paruoÅ¡ti netrukus',
    },
    en: {
        // Start Menu
        'app.title': 'Quizleris',
        'menu.welcome': 'Welcome to Quizleris',
        'menu.selectRole': 'Please select your role:',
        'menu.student': "I'm Student",
        'menu.admin': "I'm Admin",
        'menu.dashboard': 'View Dashboard',
        // Student Form
        'student.nameLabel': 'Your Name (optional)',
        'student.namePlaceholder': 'Enter name to track results',
        'student.premadeLabel': 'Try a Premade Quiz:',
        'student.quizIdLabel': 'Or Enter Quiz Code / ID',
        'student.quizIdPlaceholder': 'demo',
        'student.startBtn': 'Start Quiz',
        'student.backBtn': 'Back',
        // Admin Panel
        'admin.title': 'Create/Edit Quiz',
        'admin.dashboard': 'Dashboard',
        'admin.backToMenu': 'Back to Menu',
        'admin.quizTitle': 'Quiz Title:',
        'admin.quizTitlePlaceholder': 'My Math Quiz',
        'admin.timerMode': 'Timer Mode:',
        'admin.timerPerQuestion': 'Time per Question',
        'admin.timerWholeQuiz': 'Time for Whole Quiz',
        'admin.timerNone': 'No Timer (Stopwatch)',
        'admin.timeLimit': 'Time Limit (seconds):',
        'admin.addQuestion': 'Add Question',
        'admin.scanQuestion': 'ðŸ“· Scan Question (OCR)',
        'admin.saveQuiz': 'Save Quiz',
        'admin.exportJson': 'Export JSON',
        'admin.importJson': 'Import JSON',
        'admin.preview': 'Preview',
        'admin.cancel': 'Cancel',
        'res_vis_label': 'Result Visibility:',
        'res_vis_det': 'Detailed Review (Questions & Answers)',
        'res_vis_sco': 'Score Only',
        'admin.question': 'Question',
        'admin.qType': 'Question Type:',
        'admin.typeMC': 'Multiple Choice',
        'admin.typeNum': 'Numeric Answer',
        'admin.typeBlank': 'Fill in the Blank',
        'admin.typeImage': 'Image Upload',
        'admin.typeText': 'Text Answer',
        'admin.typeTF': 'True / False',
        'admin.mcMultiple': 'Allow multiple correct answers',
        'admin.numAnswer': 'Correct Number:',
        'admin.numTolerance': 'Tolerance:',
        'admin.tolAbs': 'Absolute (Â±val)',
        'admin.tolPct': 'Percentage (Â±%)',
        'admin.blankAnswers': 'Answers for blanks (___):',
        'admin.keywords': 'Keywords (comma separated):',
        'admin.longAnswer': 'Long answer',
        'admin.isTrue': 'Correct answer is True',
        'admin.imageUploadHint': 'Student will see a button to upload a photo. This requires manual grading.',
        'admin.addImage': 'ðŸ“· Add Image',
        'admin.removeImage': 'Remove Image',
        'admin.blankHint': 'Instruction: Use ___ (three underscores) for blanks.',
        'admin.insertBlank': 'Insert Blank (___)',
        'admin.shuffleConfig': 'Shuffle Settings:',
        'admin.shuffleQuestions': 'Shuffle Questions',
        'admin.shuffleAnswers': 'Shuffle Choices',
        'admin.quizMode': 'Quiz Mode:',
        'admin.modePractice': 'Practice (Result after submission)',
        'admin.modeExam': 'Exam (results after submission)',
        'admin.promptLabel': 'Prompt (LaTeX):',
        'admin.addChoice': 'Add Choice',
        'admin.removeQuestion': 'Remove Question',
        'admin.removeChoice': 'Delete choice',
        'admin.quizSaved': 'Quiz saved!',
        'admin.shareUrl': 'Share URL:',
        'admin.quizId': 'Quiz ID:',
        'admin.copyLink': 'Copy Link',
        // Alerts
        'alert.deleteQuestion': 'Are you sure you want to delete this specific question?',
        'alert.deleteChoice': 'Remove this choice?',
        'alert.addOneQuestion': 'Add at least one question!',
        'alert.allQuestionsPrompt': 'All questions must have a prompt!',
        'alert.twoChoicesMin': 'Each question needs at least 2 choices!',
        'alert.oneCorrectAnswer': 'Each question needs at least one correct answer!',
        'alert.quizNotFound': 'Quiz not found with that ID.',
        'alert.ocrAdded': 'Question added from scan! Review and mark the correct answer.',
        'alert.ocrError': 'Error processing image. Please try again or type manually.',
        'alert.importSuccess': 'Quiz imported successfully!',
        'alert.invalidJson': 'Invalid quiz JSON.',
        'alert.jsonParseError': 'Error parsing JSON',
        'alert.clearHistory': 'Are you sure you want to clear all history?',
        'alert.linkCopied': 'Link copied!',
        // Dashboard
        'dashboard.title': 'Results Dashboard',
        'dashboard.recentActivity': 'Recent Activity',
        'dashboard.highScores': 'High Scores',
        'dashboard.date': 'Date',
        'dashboard.name': 'Name',
        'dashboard.quiz': 'Quiz',
        'dashboard.score': 'Score',
        'dashboard.topStudent': 'Top Student',
        'dashboard.noResults': 'No results recorded yet.',
        'dashboard.backToMenu': 'Back to Menu',
        'dashboard.clearHistory': 'Clear History',
        // Quiz UI Flow
        'quiz.question': 'Question',
        'quiz.of': 'of',
        'quiz.score': 'Score',
        'quiz.time': 'Time',
        'quiz.correct': 'Correct!',
        'quiz.incorrect': 'Incorrect',
        'quiz.timesUp': "Time's Up!",
        'quiz.chooseAnswer': 'Choose an answer',
        'quiz.nextQuestion': 'Next Question',
        'quiz.complete': 'Quiz Complete!',
        'quiz.viewResults': 'View Results',
        'quiz.takeAgain': 'Take Quiz Again',
        'quiz.backToMenu': 'Back to Menu',
        'quiz.correctAnswer': 'Correct Answer',
        'quiz.noAnswer': 'No Answer',
        'quiz.mcSelectOne': 'Select one',
        'quiz.mcSelectAll': 'Select all that apply',
        'quiz.examSubmit': 'Submit Exam',
        'quiz.examConfirm': 'Are you sure you want to finish the exam and submit your answers?',
        'quiz.answered': 'answered',
        'quiz.pending': 'Pending Review',
        'quiz.previewFinished': 'Preview finished â€” you can close this tab.',
        'quiz.jumpTo': 'Jump to',
        'quiz.backBtn': 'Back',
        'quiz.backConfirm': 'Are you sure you want to go back? Your quiz progress will be lost.',
        // Quiz Titles
        'quiz.demoTitle': 'Demo Quiz',
        'quiz.algebraTitle': 'Algebra Basics',
        'quiz.combinatoricsTitle': 'Combinatorics Challenge',
        // Join Screen
        'admin.adminMode': 'Admin Mode',
        'admin.playerMode': 'Player Mode',
        'admin.newQuiz': 'New Quiz',
        'admin.timerUpdateError': 'Timer update error',
        'admin.prompt': 'Prompt (LaTeX)',
        'admin.confirmRemoveQuestion': 'Are you sure you want to delete this specific question?',
        'admin.confirmRemoveChoice': 'Remove this choice?',
        'admin.untitledQuiz': 'Untitled Quiz',
        'admin.errorNoQuestions': 'Add at least one question!',
        'admin.errorNoPrompt': 'All questions must have a prompt!',
        'admin.errorNoChoices': 'Each question needs at least 2 choices!',
        'admin.errorNoCorrect': 'Each question needs at least one correct answer!',
        'admin.saveSuccess': 'Quiz saved successfully!',
        'admin.studentUrl': 'Student Share URL',
        'admin.copy': 'Copy',
        'admin.dashboardUrl': 'Admin Dashboard URL',
        'admin.importSuccess': 'Quiz imported successfully!',
        'admin.importInvalid': 'Invalid quiz JSON.',
        'admin.importError': 'Error parsing JSON',
        'admin.confirmCancel': 'Are you sure you want to cancel? Any unsaved changes will be lost.',
        'admin.previewName': 'Preview',
        'admin.closePreview': 'Close Preview',
        // Join Screen
        'join.joinQuiz': 'Join Quiz:',
        'join.questions': 'questions',
        'join.yourName': 'Your Name',
        'join.namePlaceholder': 'Enter your name',
        'join.startBtn': 'Start Quiz',
        'join.backBtn': 'Back',
        // Detailed Dashboard
        'dashboard.actions': 'Actions',
        'dashboard.details': 'Details',
        'dashboard.closeDetails': 'Close',
        'dashboard.resultDetail': 'Result Detail:',
        'dashboard.selected': 'Selected',
        'dashboard.noDetails': 'No detailed data available for this result.',
        'dashboard.unified': 'Created Quizzes',
        'dashboard.time': 'Total Time',
        'dashboard.avgTime': 'Avg Time per Question',
        'dashboard.review': 'Review',
        'topics.title': 'English Quiz Topics',
        'student.premadeEnglish': 'English Premade Quizzes',
        'student.premadeLithuanianSoon': 'Lithuanian Quizzes (Coming Soon)',
        'student.premadeLithuanianHint': 'Lithuanian quizzes coming soon',
    }
};
let currentLanguage = 'lt'; // Default to Lithuanian
// Initialize language from localStorage or default
export function initLanguage() {
    const saved = localStorage.getItem('quiz_language');
    if (saved && (saved === 'lt' || saved === 'en')) {
        currentLanguage = saved;
    }
}
// Get current language
export function getLanguage() {
    return currentLanguage;
}
// Set language and persist
export function setLanguage(lang) {
    currentLanguage = lang;
    localStorage.setItem('quiz_language', lang);
}
// Translate a key
export function t(key) {
    return translations[currentLanguage][key] || key;
}
// Update all translatable elements in the DOM
export function updatePageLanguage() {
    document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n')?.trim();
        if (key) {
            el.textContent = t(key);
        }
    });
    document.querySelectorAll('[data-i18n-placeholder]').forEach(el => {
        const key = el.getAttribute('data-i18n-placeholder')?.trim();
        if (key && el instanceof HTMLInputElement) {
            el.placeholder = t(key);
        }
    });
}
